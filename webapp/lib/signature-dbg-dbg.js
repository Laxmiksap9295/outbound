(function(t,e){if(typeof define==="function"&&define.amd){define([],function(){return t["SignaturePad"]=e()})}else if(typeof exports==="object"){module.exports=e()}else{t["SignaturePad"]=e()}})(this,function(){
/*!
		 * Signature Pad v1.5.3
		 * https://github.com/szimek/signature_pad
		 *
		 * Copyright 2016 Szymon Nowak
		 * Released under the MIT license
		 *
		 * The main idea and some parts of the code (e.g. drawing variable width Bézier curve) are taken from:
		 * http://corner.squareup.com/2012/07/smoother-signatures.html
		 *
		 * Implementation of interpolation using cubic Bézier curves is taken from:
		 * http://benknowscode.wordpress.com/2012/09/14/path-interpolation-using-cubic-bezier-and-control-point-estimation-in-javascript
		 *
		 * Algorithm for approximated length of a Bézier curve is taken from:
		 * http://www.lemoda.net/maths/bezier-length/index.html
		 *
		 */
var t=function(t){"use strict";var e=function(t,e){var i=this,n=e||{};this.velocityFilterWeight=n.velocityFilterWeight||.7;this.minWidth=n.minWidth||.5;this.maxWidth=n.maxWidth||2.5;this.dotSize=n.dotSize||function(){return(this.minWidth+this.maxWidth)/2};this.penColor=n.penColor||"black";this.backgroundColor=n.backgroundColor||"rgba(255, 250, 193,0)";this.onEnd=n.onEnd;this.onBegin=n.onBegin;this._canvas=t;this._ctx=t.getContext("2d");this.clear();this._handleMouseDown=function(t){if(t.which===1){i._mouseButtonDown=true;i._strokeBegin(t)}};this._handleMouseMove=function(t){if(i._mouseButtonDown){i._strokeUpdate(t)}};this._handleMouseUp=function(t){if(t.which===1&&i._mouseButtonDown){i._mouseButtonDown=false;i._strokeEnd(t)}};this._handleTouchStart=function(t){if(t.targetTouches.length==1){var e=t.changedTouches[0];i._strokeBegin(e)}};this._handleTouchMove=function(t){t.preventDefault();var e=t.targetTouches[0];i._strokeUpdate(e)};this._handleTouchEnd=function(t){var e=t.target===i._canvas;if(e){t.preventDefault();i._strokeEnd(t)}};this._handleMouseEvents();this._handleTouchEvents()};e.prototype.clear=function(){var t=this._ctx,e=this._canvas;t.fillStyle=this.backgroundColor;t.clearRect(0,0,e.width,e.height);t.fillRect(0,0,e.width,e.height);this._reset()};e.prototype.toDataURL=function(t,e){var i=this._canvas;return i.toDataURL.apply(i,arguments)};e.prototype.fromDataURL=function(t){var e=this,i=new Image,n=window.devicePixelRatio||1,o=this._canvas.width/n,s=this._canvas.height/n;this._reset();i.src=t;i.onload=function(){e._ctx.drawImage(i,0,0,o,s)};this._isEmpty=false};e.prototype._strokeUpdate=function(t){var e=this._createPoint(t);this._addPoint(e)};e.prototype._strokeBegin=function(t){this._reset();this._strokeUpdate(t);if(typeof this.onBegin==="function"){this.onBegin(t)}};e.prototype._strokeDraw=function(t){var e=this._ctx,i=typeof this.dotSize==="function"?this.dotSize():this.dotSize;e.beginPath();this._drawPoint(t.x,t.y,i);e.closePath();e.fill()};e.prototype._strokeEnd=function(t){var e=this.points.length>2,i=this.points[0];if(!e&&i){this._strokeDraw(i)}if(typeof this.onEnd==="function"){this.onEnd(t)}};e.prototype._handleMouseEvents=function(){this._mouseButtonDown=false;this._canvas.addEventListener("mousedown",this._handleMouseDown);this._canvas.addEventListener("mousemove",this._handleMouseMove);t.addEventListener("mouseup",this._handleMouseUp)};e.prototype._handleTouchEvents=function(){this._canvas.style.msTouchAction="none";this._canvas.style.touchAction="none";this._canvas.addEventListener("touchstart",this._handleTouchStart);this._canvas.addEventListener("touchmove",this._handleTouchMove);this._canvas.addEventListener("touchend",this._handleTouchEnd)};e.prototype.on=function(){this._handleMouseEvents();this._handleTouchEvents()};e.prototype.off=function(){this._canvas.removeEventListener("mousedown",this._handleMouseDown);this._canvas.removeEventListener("mousemove",this._handleMouseMove);t.removeEventListener("mouseup",this._handleMouseUp);this._canvas.removeEventListener("touchstart",this._handleTouchStart);this._canvas.removeEventListener("touchmove",this._handleTouchMove);this._canvas.removeEventListener("touchend",this._handleTouchEnd)};e.prototype.isEmpty=function(){return this._isEmpty};e.prototype._reset=function(){this.points=[];this._lastVelocity=0;this._lastWidth=(this.minWidth+this.maxWidth)/2;this._isEmpty=true;this._ctx.fillStyle=this.penColor};e.prototype._createPoint=function(t){var e=this._canvas.getBoundingClientRect();return new i(t.clientX-e.left,t.clientY-e.top)};e.prototype._addPoint=function(t){var e=this.points,i,o,s,h;e.push(t);if(e.length>2){if(e.length===3)e.unshift(e[0]);h=this._calculateCurveControlPoints(e[0],e[1],e[2]);i=h.c2;h=this._calculateCurveControlPoints(e[1],e[2],e[3]);o=h.c1;s=new n(e[1],i,o,e[2]);this._addCurve(s);e.shift()}};e.prototype._calculateCurveControlPoints=function(t,e,n){var o=t.x-e.x,s=t.y-e.y,h=e.x-n.x,r=e.y-n.y,a={x:(t.x+e.x)/2,y:(t.y+e.y)/2},c={x:(e.x+n.x)/2,y:(e.y+n.y)/2},u=Math.sqrt(o*o+s*s),d=Math.sqrt(h*h+r*r),l=a.x-c.x,_=a.y-c.y,v=d/(u+d),p={x:c.x+l*v,y:c.y+_*v},f=e.x-p.x,y=e.y-p.y;return{c1:new i(a.x+f,a.y+y),c2:new i(c.x+f,c.y+y)}};e.prototype._addCurve=function(t){var e=t.startPoint,i=t.endPoint,n,o;n=i.velocityFrom(e);n=this.velocityFilterWeight*n+(1-this.velocityFilterWeight)*this._lastVelocity;o=this._strokeWidth(n);this._drawCurve(t,this._lastWidth,o);this._lastVelocity=n;this._lastWidth=o};e.prototype._drawPoint=function(t,e,i){var n=this._ctx;n.moveTo(t,e);n.arc(t,e,i,0,2*Math.PI,false);this._isEmpty=false};e.prototype._drawCurve=function(t,e,i){var n=this._ctx,o=i-e,s,h,r,a,c,u,d,l,_,v,p;s=Math.floor(t.length());n.beginPath();for(r=0;r<s;r++){a=r/s;c=a*a;u=c*a;d=1-a;l=d*d;_=l*d;v=_*t.startPoint.x;v+=3*l*a*t.control1.x;v+=3*d*c*t.control2.x;v+=u*t.endPoint.x;p=_*t.startPoint.y;p+=3*l*a*t.control1.y;p+=3*d*c*t.control2.y;p+=u*t.endPoint.y;h=e+u*o;this._drawPoint(v,p,h)}n.closePath();n.fill()};e.prototype._strokeWidth=function(t){return Math.max(this.maxWidth/(t+1),this.minWidth)};var i=function(t,e,i){this.x=t;this.y=e;this.time=i||(new Date).getTime()};i.prototype.velocityFrom=function(t){return this.time!==t.time?this.distanceTo(t)/(this.time-t.time):1};i.prototype.distanceTo=function(t){return Math.sqrt(Math.pow(this.x-t.x,2)+Math.pow(this.y-t.y,2))};var n=function(t,e,i,n){this.startPoint=t;this.control1=e;this.control2=i;this.endPoint=n};n.prototype.length=function(){var t=10,e=0,i,n,o,s,h,r,a,c;for(i=0;i<=t;i++){n=i/t;o=this._point(n,this.startPoint.x,this.control1.x,this.control2.x,this.endPoint.x);s=this._point(n,this.startPoint.y,this.control1.y,this.control2.y,this.endPoint.y);if(i>0){a=o-h;c=s-r;e+=Math.sqrt(a*a+c*c)}h=o;r=s}return e};n.prototype._point=function(t,e,i,n,o){return e*(1-t)*(1-t)*(1-t)+3*i*(1-t)*(1-t)*t+3*n*(1-t)*t*t+o*t*t*t};return e}(document);return t});
//# sourceMappingURL=signature-dbg-dbg.js.map